<div class="container mx-auto p-4 relative">
    <div *ngIf="band" class="bg-gray-800 text-white p-6 rounded-lg shadow-lg">
      <img [src]="band.photo || 'assets/default-band.png'" alt="Band Photo" class="w-full h-64 object-cover rounded-lg mb-4">
      <h1 class="text-3xl font-bold mb-4">{{ band.name }}</h1>
  
      <!-- Información de la banda (solo lectura) -->
      <div *ngIf="!isEditing">
        <p class="text-gray-400 mb-4">{{ band.description }}</p>
        <p class="text-sm text-gray-400"><strong>Género:</strong> {{ band.genre }}</p>
        <p class="text-sm text-gray-400"><strong>Ciudad:</strong> {{ band.city }}</p>
        <div class="mt-4">
          <div class="flex space-x-4">
            <a *ngFor="let rrss of band.rrss | keyvalue" [href]="rrss.value" target="_blank" class="text-blue-400 hover:underline">
                <fa-icon *ngIf="getIconForRrss(rrss.key, rrss.value)" 
                         [icon]="getIconForRrss(rrss.key, rrss.value)" 
                         class="text-2xl">
                </fa-icon>
              </a>
          </div>
        </div>
      </div>
  
      <!-- Formulario de edición -->
      <div *ngIf="isEditing">
        <form (ngSubmit)="saveChanges()">
          <div class="mb-4">
            <label for="name" class="block text-sm font-bold mb-2">Nombre</label>
            <input
              id="name"
              [(ngModel)]="updatedBand.name"
              name="name"
              type="text"
              class="w-full p-2 rounded bg-gray-700 text-white"
              required
            />
          </div>
          <div class="mb-4">
            <label for="description" class="block text-sm font-bold mb-2">Descripción</label>
            <textarea
              id="description"
              [(ngModel)]="updatedBand.description"
              name="description"
              class="w-full p-2 rounded bg-gray-700 text-white"
              required
            ></textarea>
          </div>
          <div class="mb-4">
            <label for="genre" class="block text-sm font-bold mb-2">Género</label>
            <input
              id="genre"
              [(ngModel)]="updatedBand.genre"
              name="genre"
              type="text"
              class="w-full p-2 rounded bg-gray-700 text-white"
              required
            />
          </div>
          <div class="mb-4">
            <label for="city" class="block text-sm font-bold mb-2">Ciudad</label>
            <input
              id="city"
              [(ngModel)]="updatedBand.city"
              name="city"
              type="text"
              class="w-full p-2 rounded bg-gray-700 text-white"
              required
            />
          </div>
  
          <!-- Redes sociales -->
          <div class="mb-4">
            <label for="instagram" class="block text-sm font-bold mb-2">Instagram</label>
            <input
              id="instagram"
              [(ngModel)]="updatedBand.rrss.instagram"
              name="instagram"
              type="url"
              class="w-full p-2 rounded bg-gray-700 text-white"
              placeholder="https://instagram.com/tu-cuenta"
            />
          </div>
          <div class="mb-4">
            <label for="youtube" class="block text-sm font-bold mb-2">YouTube</label>
            <input
              id="youtube"
              [(ngModel)]="updatedBand.rrss.youtube"
              name="youtube"
              type="url"
              class="w-full p-2 rounded bg-gray-700 text-white"
              placeholder="https://youtube.com/tu-canal"
            />
          </div>
          <div class="mb-4">
            <label for="tiktok" class="block text-sm font-bold mb-2">TikTok</label>
            <input
              id="tiktok"
              [(ngModel)]="updatedBand.rrss.tiktok"
              name="tiktok"
              type="url"
              class="w-full p-2 rounded bg-gray-700 text-white"
              placeholder="https://tiktok.com/@tu-cuenta"
            />
          </div>
  
          <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
            Guardar Cambios
          </button>
        </form>
      </div>
  
      <!-- Botón circular para editar -->
      <button
        (click)="toggleEdit()"
        class="fixed bottom-4 right-4 bg-yellow-500 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:bg-yellow-600"
        aria-label="Editar Banda"
      >
        <fa-icon [icon]="icons.edit" class="text-xl"></fa-icon>
      </button>
    </div>
  </div>