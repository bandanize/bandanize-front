<div class="container mx-auto p-4">
  <!-- Contenedor del título y el botón -->
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">Mis Bandas</h1>

    <!-- Botón circular para mostrar el formulario -->
    <button (click)="toggleForm()"
      class="bg-blue-500 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:bg-blue-600"
      aria-label="Crear Banda">
      +
    </button>
  </div>

  <!-- Formulario para crear una banda -->
  <div *ngIf="showForm" class="bg-gray-800 text-white p-4 rounded-lg shadow-lg mb-4">
    <form (ngSubmit)="createBand()">
      <div class="mb-4">
        <label for="name" class="block text-sm font-bold mb-2">Nombre</label>
        <input id="name" [(ngModel)]="newBand.name" name="name" type="text"
          class="w-full p-2 rounded bg-gray-700 text-white" required />
      </div>
      <div class="mb-4">
        <label for="description" class="block text-sm font-bold mb-2">Descripción</label>
        <textarea id="description" [(ngModel)]="newBand.description" name="description"
          class="w-full p-2 rounded bg-gray-700 text-white" required></textarea>
      </div>
      <div class="mb-4">
        <label for="genre" class="block text-sm font-bold mb-2">Género</label>
        <input id="genre" [(ngModel)]="newBand.genre" name="genre" type="text"
          class="w-full p-2 rounded bg-gray-700 text-white" required />
      </div>
      <div class="mb-4">
        <label for="city" class="block text-sm font-bold mb-2">Ciudad</label>
        <input id="city" [(ngModel)]="newBand.city" name="city" type="text"
          class="w-full p-2 rounded bg-gray-700 text-white" required />
      </div>

      <!-- Redes sociales -->
      <div class="mb-4">
        <label for="instagram" class="block text-sm font-bold mb-2">Instagram</label>
        <input id="instagram" [(ngModel)]="newBand.rrss.instagram" name="instagram" type="url"
          class="w-full p-2 rounded bg-gray-700 text-white" placeholder="https://instagram.com/tu-cuenta" />
      </div>
      <div class="mb-4">
        <label for="youtube" class="block text-sm font-bold mb-2">YouTube</label>
        <input id="youtube" [(ngModel)]="newBand.rrss.youtube" name="youtube" type="url"
          class="w-full p-2 rounded bg-gray-700 text-white" placeholder="https://youtube.com/tu-canal" />
      </div>
      <div class="mb-4">
        <label for="tiktok" class="block text-sm font-bold mb-2">TikTok</label>
        <input id="tiktok" [(ngModel)]="newBand.rrss.tiktok" name="tiktok" type="url"
          class="w-full p-2 rounded bg-gray-700 text-white" placeholder="https://tiktok.com/@tu-cuenta" />
      </div>

      <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
        Crear Banda
      </button>
    </form>
  </div>

  <!-- Lista de bandas -->
  <div *ngIf="bands.length > 0; else noBands" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <a *ngFor="let band of bands" [routerLink]="['/bands', band.id]"
      class="bg-gray-800 text-white p-4 rounded-lg shadow-lg hover:bg-gray-700">
      <img [src]="band.photo || 'assets/default-band.png'" alt="Band Photo"
        class="w-full h-48 object-cover rounded-lg mb-4">
      <h2 class="text-xl font-bold">{{ band.name }}</h2>
      <p class="mt-2">{{ band.description }}</p>
      <p class="text-sm text-gray-400">{{ band.genre }}, {{ band.city }}</p>
      <div class="mt-4">
        <div class="flex space-x-4">
          <a *ngFor="let rrss of band.rrss | keyvalue" [href]="rrss.value" target="_blank" class="text-blue-400 hover:underline">
            <fa-icon *ngIf="getIconForRrss(rrss.key, rrss.value)" 
                     [icon]="getIconForRrss(rrss.key, rrss.value)" 
                     class="text-2xl">
            </fa-icon>
          </a>
        </div>
      </div>
    </a>
  </div>
  <ng-template #noBands>
    <p class="text-gray-500">No tienes bandas asociadas.</p>
  </ng-template>
</div>